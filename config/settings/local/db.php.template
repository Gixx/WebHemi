<?php

use WebHemi\Adapter\Data\DataDriverInterface;
use WebHemi\Adapter\Data\PDO\%pdo.sqldriver%;

return [
    'dependencies' => [
        'Global' => [
            DataDriverInterface::class => [
                'class' => %pdo.sqldriver%::class,
                'arguments' => [
                    'dsn'      => '%pdo.sql.type%:dbname=%pdo.dbname%;charset=utf8;host=%pdo.hostname%',
                    'user'     => '%pdo.username%',
                    'password' => '%pdo.password%',
                    'options'  => [
                        PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,
                        PDO::MYSQL_ATTR_INIT_COMMAND => "SET NAMES utf8"
                    ],
                ],
                'calls'     => ['setAttribute' => [PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION]],
                'shared'    => true,
            ],
        ],
    ],
];
